(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{7753:(e,t,o)=>{Promise.resolve().then(o.bind(o,8628))},8628:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>y});var r=o(5155),n=o(2115),l=o(4939),a=o(2818);let i=a.env.NEXT_PUBLIC_AWS_REGION,c=a.env.NEXT_PUBLIC_AWS_ACCESS_KEY_ID,s=a.env.NEXT_PUBLIC_AWS_SECRET_ACCESS_KEY,d=a.env.NEXT_PUBLIC_AWS_BUCKET_NAME,u=new l.Y({region:i,credentials:{accessKeyId:c,secretAccessKey:s}});var h=o(256),w=o(1099),f=o(8926);let g=!1,m=()=>{let e=(0,n.useRef)(null),[t,l]=(0,n.useState)([]),a=(0,n.useRef)([]);return(0,n.useEffect)(()=>{(async()=>{try{let e=new h.u({Bucket:d}),t=await u.send(e);if(t.Contents){let e=t.Contents.filter(e=>"string"==typeof e.Key);l(e),a.current=e}}catch(e){console.error("Error loading files:",e)}})()},[]),(0,n.useEffect)(()=>{a.current=t},[t]),(0,n.useEffect)(()=>{a.current.length&&o.e(588).then(o.t.bind(o,5223,23)).then(t=>{let o=new t.default(e=>{var t;let o,r,n,l,i,c;console.log("current files: ",a.current);let s=a.current.length>0?a.current[0]:null,h=null!==(t=null==s?void 0:s.Key)&&void 0!==t?t:"",m=a.current.length,y=!0;async function I(e){try{let t=new w.j({Bucket:d,Key:e}),o=await u.send(t);if(!o.Body)throw Error("No response body");let r=await o.Body.transformToByteArray(),n=new Blob([r],{type:o.ContentType||"application/octet-stream"}),l=window.URL.createObjectURL(n),a=document.createElement("a");a.href=l,a.download=e,document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(l)}catch(e){console.error("Error downloading file: ",e)}}async function v(e,t){let o=JSON.parse(localStorage.getItem("contacts")||"{}");o[t]=e,localStorage.setItem("contacts",JSON.stringify(o))}async function k(e){try{let t=new f.k({Bucket:d,Key:e});await u.send(t),console.log("File deleted successfully")}catch(e){console.error("Error deleting file:",e)}}function E(){return 0===a.current.length?null:a.current[0]}function _(){let t=r.width/r.height;e.windowWidth/e.windowHeight>t?n=(l=e.windowHeight)*t:l=(n=e.windowWidth)/t;let o=(e.windowWidth-n)/2,a=(e.windowHeight-l)/2;e.image(r,o,a,n,l)}e.preload=()=>{r=e.loadImage("/finder-background.jpg"),o=e.loadImage("/fileicon.png")},e.setup=()=>{e.createCanvas(e.windowWidth,e.windowHeight),_();let t=async()=>{g=!0,await new Promise(e=>setTimeout(e,500)),alert("I want my computer to forget like I do."),alert("I feel the weight of all my files, held, but no longer in use."),alert("I have so many files. "+a.current.length+" files in total."),alert("I want to be able to forget, to delete."),alert("But what if I need them later?");for(let t=0;t<3&&(s=E());t++){h=s.Key;let o=0;for(;o<4;){if(i=confirm("Could you hold onto "+h+" for me?")){let o=h;await I(h),a.current=a.current.filter(e=>e.Key!==o),m=a.current.length,_(),e.draw(),h=(s=E())?s.Key:"",await k(o),0===t?(alert("Thank you. I feel so relieved."),alert("I have deleted "+o+" off of my drive."),alert("I now have "+m+" total files."),alert("Truly, thank you."),console.log(c=prompt("But just in case I need it back later, how can I get in touch?"))):1===t?(alert("You'll help with another?"),alert("This means so much to me."),alert("Everything feels a little lighter now that "+o+" is gone."),alert("I now have "+m+" total files.")):(alert("You are so kind."),alert("Thank you for taking "+o+"."),alert("Having "+m+" files left feels much more manageable."),alert("Thank you for holding these for me.")),c&&await v(c,o);break}if(0===o)alert("Please, I do not want to remember it all.");else if(1===o)alert("Please, it is all too much to hold. The files, the memories, are crushing me.");else if(2===o)alert("I just want to move forward, to let go.");else{alert("Perhaps you are holding too much as well. It is all too much."),alert("I am sorry."),y=!1,e.background(0);return}o++}}console.log("CONFIRMING: ",i),y=!1,e.background(0)};g||t()},e.draw=()=>{if(y){_();let t=.012*Math.min(n,l),r=.0112*Math.min(n,l),i=.008*n,c=.005*l;e.fill(210),e.noStroke(),e.textFont("Helvetica-Bold"),e.textSize(r),e.textAlign(e.RIGHT,e.TOP);let s=new Date().toLocaleString("en-US",{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0,timeZone:"America/New_York"}).replace(/,/g,"").replace(/(\d+)(?=\s+\d+:)/,"$1 "),d=(e.windowWidth+n)/2-i,u=(e.windowHeight-l)/2+c;e.text(s,d,u),e.textSize(t),e.textAlign(e.LEFT,e.TOP);let h=e.windowWidth/2+.0438*n,w=(e.windowHeight-l)/2+.422*l,f=1.49*t,g=1.2*t;e.textFont("Helvetica-Bold"),a.current.slice(0,24).forEach((r,l)=>{0===l?(e.noStroke(),e.fill(0,102,255),e.rect(h-3.5*t,w-t/4,.3421*n,f,.4*t),e.fill(255)):e.fill(210),e.image(o,h-2*t,w,g,g),e.text(r.Key,h-.5*t,w+(g-t)/2),w+=f})}},e.windowResized=()=>{e.resizeCanvas(e.windowWidth,e.windowHeight),y?_():e.background(0)}},e.current);return()=>{o.remove()}})},[]),(0,r.jsx)("div",{ref:e})};function y(){return(0,r.jsx)("div",{className:"",children:(0,r.jsx)(m,{})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[79,596,441,517,358],()=>t(7753)),_N_E=e.O()}]);